{"version":3,"file":"static/webpack/static/development/pages/song.js.a67817b2f80d3a7cabad.hot-update.js","sources":["webpack:///./pages/song.js"],"sourcesContent":["import Header from '../components/header';\n\nfunction Food(props) {\n    return (\n        <div>\n            <Header href=\"/song\"></Header>\n            {\n                props.data.map((d, index) => (\n                    <p key={index}>\n                        <span>{d.name}</span>\n                        <span>{d.count}</span>\n                    </p>\n                ))\n            }\n            <style jsx>{`\n                p {\n                    width: 100%;\n                    font-family: 'Kaiti'\n                }\n\n                p span:first-child {\n                    display: inline-block;\n                    width: 80%;\n                }\n            `}</style>\n        </div>\n    );\n}\n\nFood.getInitialProps = async function() {\n    const res = await fetch('http://39.106.163.180:5002/api/records');\n    const data = await res.json();\n    const songCounter = {};\n\n    data.data.forEach(d => {\n        d.songs.forEach(s => {\n            const [key, name] = Object.entries(s)[0];\n            if (!songCounter[key]) {\n                songCounter[key] = {\n                    name: `${key} - ${name}`,\n                    count: 1\n                }\n            } else {\n                songCounter[key].count += 1;\n            }\n        })\n    });\n\n    return {\n        data: Object.values(songCounter).sort((a, b) => b.count - a.count)\n    };\n}\n\nexport default Food;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAHA;AAHA;AAAA;AAuBA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAjBA;AAoBA;AAAA;AAAA;AADA;AACA;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA;;;;A","sourceRoot":""}