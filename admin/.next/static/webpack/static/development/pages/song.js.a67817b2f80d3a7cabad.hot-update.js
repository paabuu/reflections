webpackHotUpdate("static/development/pages/song.js",{

/***/ "./pages/song.js":
/*!***********************!*\
  !*** ./pages/song.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_corejs2_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs2/regenerator */ "./node_modules/@babel/runtime-corejs2/regenerator/index.js");
/* harmony import */ var _babel_runtime_corejs2_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs2_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_corejs2_core_js_object_values__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs2/core-js/object/values */ "./node_modules/@babel/runtime-corejs2/core-js/object/values.js");
/* harmony import */ var _babel_runtime_corejs2_core_js_object_values__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs2_core_js_object_values__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_corejs2_core_js_object_entries__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs2/core-js/object/entries */ "./node_modules/@babel/runtime-corejs2/core-js/object/entries.js");
/* harmony import */ var _babel_runtime_corejs2_core_js_object_entries__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs2_core_js_object_entries__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_corejs2_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs2/helpers/esm/slicedToArray */ "./node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray.js");
/* harmony import */ var _babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs2/helpers/esm/asyncToGenerator */ "./node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js");
/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! styled-jsx/style */ "./node_modules/styled-jsx/style.js");
/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _components_header__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/header */ "./components/header.js");









function Food(props) {
  return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "jsx-407785571"
  }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_header__WEBPACK_IMPORTED_MODULE_7__["default"], {
    href: "/song"
  }), props.data.map(function (d, index) {
    return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p", {
      key: index,
      className: "jsx-407785571"
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span", {
      className: "jsx-407785571"
    }, d.name), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span", {
      className: "jsx-407785571"
    }, d.count));
  }), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(styled_jsx_style__WEBPACK_IMPORTED_MODULE_5___default.a, {
    id: "407785571"
  }, "p.jsx-407785571{width:100%;font-family:'Kaiti';}p.jsx-407785571 span.jsx-407785571:first-child{display:inline-block;width:80%;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy95YW5nd2VuamllL0Rlc2t0b3AvcmVmbGVjdGlvbnMvYWRtaW4vcGFnZXMvc29uZy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFjd0IsQUFHZ0MsQUFLVSxXQUgxQixVQUllLFVBSmQsQUFLQSIsImZpbGUiOiIvVXNlcnMveWFuZ3dlbmppZS9EZXNrdG9wL3JlZmxlY3Rpb25zL2FkbWluL3BhZ2VzL3NvbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSGVhZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvaGVhZGVyJztcblxuZnVuY3Rpb24gRm9vZChwcm9wcykge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8SGVhZGVyIGhyZWY9XCIvc29uZ1wiPjwvSGVhZGVyPlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb3BzLmRhdGEubWFwKChkLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8cCBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntkLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2QuY291bnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgICBwIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnS2FpdGknXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcCBzcGFuOmZpcnN0LWNoaWxkIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogODAlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn1cblxuRm9vZC5nZXRJbml0aWFsUHJvcHMgPSBhc3luYyBmdW5jdGlvbigpIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnaHR0cDovLzM5LjEwNi4xNjMuMTgwOjUwMDIvYXBpL3JlY29yZHMnKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICBjb25zdCBzb25nQ291bnRlciA9IHt9O1xuXG4gICAgZGF0YS5kYXRhLmZvckVhY2goZCA9PiB7XG4gICAgICAgIGQuc29uZ3MuZm9yRWFjaChzID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFtrZXksIG5hbWVdID0gT2JqZWN0LmVudHJpZXMocylbMF07XG4gICAgICAgICAgICBpZiAoIXNvbmdDb3VudGVyW2tleV0pIHtcbiAgICAgICAgICAgICAgICBzb25nQ291bnRlcltrZXldID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBgJHtrZXl9IC0gJHtuYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiAxXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb25nQ291bnRlcltrZXldLmNvdW50ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkYXRhOiBPYmplY3QudmFsdWVzKHNvbmdDb3VudGVyKS5zb3J0KChhLCBiKSA9PiBiLmNvdW50IC0gYS5jb3VudClcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBGb29kOyJdfQ== */\n/*@ sourceURL=/Users/yangwenjie/Desktop/reflections/admin/pages/song.js */"));
}

Food.getInitialProps =
/*#__PURE__*/
Object(_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__["default"])(
/*#__PURE__*/
_babel_runtime_corejs2_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
  var res, data, songCounter;
  return _babel_runtime_corejs2_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return fetch('http://39.106.163.180:5002/api/records');

        case 2:
          res = _context.sent;
          _context.next = 5;
          return res.json();

        case 5:
          data = _context.sent;
          songCounter = {};
          data.data.forEach(function (d) {
            d.songs.forEach(function (s) {
              var _Object$entries$ = Object(_babel_runtime_corejs2_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__["default"])(_babel_runtime_corejs2_core_js_object_entries__WEBPACK_IMPORTED_MODULE_2___default()(s)[0], 2),
                  key = _Object$entries$[0],
                  name = _Object$entries$[1];

              if (!songCounter[key]) {
                songCounter[key] = {
                  name: "".concat(key, " - ").concat(name),
                  count: 1
                };
              } else {
                songCounter[key].count += 1;
              }
            });
          });
          return _context.abrupt("return", {
            data: _babel_runtime_corejs2_core_js_object_values__WEBPACK_IMPORTED_MODULE_1___default()(songCounter).sort(function (a, b) {
              return b.count - a.count;
            })
          });

        case 9:
        case "end":
          return _context.stop();
      }
    }
  }, _callee);
}));
/* harmony default export */ __webpack_exports__["default"] = (Food);

/***/ })

})
//# sourceMappingURL=song.js.a67817b2f80d3a7cabad.hot-update.js.map